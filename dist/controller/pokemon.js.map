{"version":3,"sources":["../../src/controller/pokemon.js"],"names":["config","db","api","get","req","res","find","err","pokemons","send","json","findById","params","id","pokemon","post","newPok","body","save","message","put","name","delete","remove","_id"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;kBAEc,gBAAkB;AAAA,QAAhBA,MAAgB,QAAhBA,MAAgB;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC5B,QAAIC,MAAM,sBAAV;;AAEJ;AACA;AACQA,QAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvB,0BAAQC,IAAR,CAAa,EAAb,EAAiB,UAACC,GAAD,EAAMC,QAAN,EAAmB;AAChC,gBAAID,GAAJ,EAAS;AACJF,oBAAII,IAAJ,CAASF,GAAT;AACJ,aAFD,MAGKF,IAAIK,IAAJ,CAASF,QAAT;AACR,SALD;AAMH,KAPD;;AASA;AACA;AACAN,QAAIC,GAAJ,CAAQ,MAAR,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1B,0BAAQM,QAAR,CAAiBP,IAAIQ,MAAJ,CAAWC,EAA5B,EAAgC,UAACN,GAAD,EAAMO,OAAN,EAAkB;AAC9C,gBAAGP,GAAH,EAAQ;AACJF,oBAAII,IAAJ,CAASF,GAAT;AACH,aAFD,MAGKF,IAAIK,IAAJ,CAASI,OAAT;AACR,SALD;AAMH,KAPD;;AASA;AACA;AACAZ,QAAIa,IAAJ,CAAS,MAAT,EAAiB,UAACX,GAAD,EAAMC,GAAN,EAAc;AAC3B,YAAIW,SAAS,sBAAYZ,IAAIa,IAAhB,CAAb;AACAD,eAAOE,IAAP,CAAY,UAACX,GAAD,EAAS;AACrB,gBAAIA,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH;AACGF,gBAAIK,IAAJ,CAAS,EAACS,SAAU,4BAAX,EAAT;AACH,SALD;AAMH,KARD;;AAUA;AACA;AACAjB,QAAIkB,GAAJ,CAAQ,MAAR,EAAgB,UAAChB,GAAD,EAAMC,GAAN,EAAc;AAC1B,0BAAQM,QAAR,CAAiBP,IAAIQ,MAAJ,CAAWC,EAA5B,EAAgC,UAACN,GAAD,EAAMO,OAAN,EAAkB;AAC9C,gBAAGP,GAAH,EAAQ;AACJF,oBAAII,IAAJ,CAASF,GAAT;AACH;AACDO,oBAAQO,IAAR,GAAejB,IAAIa,IAAJ,CAASI,IAAxB;AACAP,oBAAQI,IAAR,CAAa,UAACX,GAAD,EAAS;AAClB,oBAAGA,GAAH,EAAQ;AACJF,wBAAII,IAAJ,CAASF,GAAT;AACH;AACGF,oBAAIK,IAAJ,CAAS,EAACS,SAAS,uCAAV,EAAT;AACP,aALD;AAMH,SAXD;AAYH,KAbD;;AAeA;AACA;AACAjB,QAAIoB,MAAJ,CAAW,MAAX,EAAmB,UAAClB,GAAD,EAAMC,GAAN,EAAc;AAC7B,0BAAQkB,MAAR,CAAe;AACXC,iBAAMpB,IAAIQ,MAAJ,CAAWC,EADN,EAAf,EAC2B,UAACN,GAAD,EAAMO,OAAN,EAAkB;AACrC,gBAAIP,GAAJ,EAAS;AACLF,oBAAII,IAAJ,CAASF,GAAT;AACH;AACGF,gBAAIK,IAAJ,CAAS,EAACS,SAAS,uCAAV,EAAT;AACX,SAND;AAOH,KARD;AASI,WAAOjB,GAAP;AACH,C","file":"pokemon.js","sourcesContent":["import mongoose from 'mongoose';\nimport{ Router } from 'express';\nimport Pokemon from '../model/pokemon';\nimport bodyParser from 'body-parser';\n\nexport default({config, db}) => {\n    let api = Router();\n\n//GET METHOD ALL\n//pokemons\n        api.get('/', (req, res) => {\n            Pokemon.find({}, (err, pokemons) => {\n                if (err) {\n                     res.send(err);\n                }\n                else res.json(pokemons);\n            });\n        });\n\n        //GET METHOD ID\n        //pokemons/id\n        api.get('/:id', (req, res) => {\n            Pokemon.findById(req.params.id, (err, pokemon) => {\n                if(err) {\n                    res.send(err);\n                }\n                else res.json(pokemon);\n            });\n        });\n\n        //POST METHOD\n        //pokemons/add\n        api.post(\"/add\", (req, res) => {\n            let newPok = new Pokemon(req.body);\n            newPok.save((err) => {\n            if (err) {\n                res.send(err)\n            }\n                res.json({message : \"Pokemon saved successfully\"});\n            });\n        });\n\n        //PUT METHOD\n        //pokemons/id\n        api.put('/:id', (req, res) => {\n            Pokemon.findById(req.params.id, (err, pokemon) => {\n                if(err) {\n                    res.send(err);\n                }\n                pokemon.name = req.body.name;\n                pokemon.save((err) => {\n                    if(err) {\n                        res.send(err);\n                    }\n                        res.json({message: 'Pokemon has been successfully updated'});\n                });\n            });\n        });\n\n        //DELETE METHOD\n        //pokemons//id\n        api.delete('/:id', (req, res) => {\n            Pokemon.remove({\n                _id : req.params.id }, (err, pokemon) => {\n                    if (err) {\n                        res.send(err);\n                    }\n                        res.json({message: \"Pokemon has been successfully removed\"});\n            });\n        });\n            return api;\n        };"]}